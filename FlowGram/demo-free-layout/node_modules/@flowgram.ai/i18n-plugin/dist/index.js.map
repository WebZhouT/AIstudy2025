{"version":3,"sources":["../src/index.ts","../src/create-i18n-plugin.ts"],"sourcesContent":["export { I18n, type I18nLanguage } from '@flowgram.ai/i18n';\nexport { createI18nPlugin, type I18nPluginOptions } from './create-i18n-plugin';\n","import { I18n, type I18nLanguage } from '@flowgram.ai/i18n';\nimport { definePluginCreator } from '@flowgram.ai/core';\n\nexport interface I18nPluginOptions {\n  locale?: string;\n  /**\n   * use `locale` instead\n   * @deprecated\n   */\n  localLanguage?: string;\n  /**\n   * if missingStrictMode is true\n   *  expect(I18n.t('Unknown')).toEqual('[missing \"en-US.Unknown\" translation]')\n   * else\n   *  expect(I18n.t('Unknown')).toEqual('Unknown')\n   */\n  missingStrictMode?: boolean;\n  languages?: I18nLanguage[] | Record<string, Record<string, any>>;\n  onLanguageChange?: (languageId: string) => void;\n}\n/**\n * I18n Plugin\n */\nexport const createI18nPlugin = definePluginCreator<I18nPluginOptions>({\n  onInit: (ctx, _opts) => {\n    if (_opts.onLanguageChange) {\n      ctx.playground.toDispose.push(I18n.onLanguageChange(_opts.onLanguageChange));\n    }\n    if (_opts.languages) {\n      if (Array.isArray(_opts.languages)) {\n        I18n.addLanguages(_opts.languages);\n      } else {\n        I18n.addLanguages(\n          Object.keys(_opts.languages).map((key) => ({\n            languageId: key,\n            contents: (_opts.languages as any)![key],\n          }))\n        );\n      }\n    }\n    if (_opts.locale || _opts.localLanguage) {\n      I18n.locale = (_opts.locale || _opts.localLanguage)!;\n    }\n  },\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAAA,eAAwC;;;ACAxC,kBAAwC;AACxC,kBAAoC;AAsB7B,IAAM,uBAAmB,iCAAuC;AAAA,EACrE,QAAQ,CAAC,KAAK,UAAU;AACtB,QAAI,MAAM,kBAAkB;AAC1B,UAAI,WAAW,UAAU,KAAK,iBAAK,iBAAiB,MAAM,gBAAgB,CAAC;AAAA,IAC7E;AACA,QAAI,MAAM,WAAW;AACnB,UAAI,MAAM,QAAQ,MAAM,SAAS,GAAG;AAClC,yBAAK,aAAa,MAAM,SAAS;AAAA,MACnC,OAAO;AACL,yBAAK;AAAA,UACH,OAAO,KAAK,MAAM,SAAS,EAAE,IAAI,CAAC,SAAS;AAAA,YACzC,YAAY;AAAA,YACZ,UAAW,MAAM,UAAmB,GAAG;AAAA,UACzC,EAAE;AAAA,QACJ;AAAA,MACF;AAAA,IACF;AACA,QAAI,MAAM,UAAU,MAAM,eAAe;AACvC,uBAAK,SAAU,MAAM,UAAU,MAAM;AAAA,IACvC;AAAA,EACF;AACF,CAAC;","names":["import_i18n"]}