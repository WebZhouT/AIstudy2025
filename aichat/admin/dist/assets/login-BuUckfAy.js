import{_ as c,d as w,c as v,a as o,t as u,g as r,w as t,q as h,u as C,s as T,v as _,j as b,x as k,y as V,r as d,o as S,n as j,h as z,E as i}from"./index-D6wUQW8W.js";import{a as B}from"./axios-9PTFF6AP.js";const N=""+new URL("left-BPO_qFHD.jpg",import.meta.url).href,P=w({setup(){h(),C(),T();const e=_({name:"admin",password:"123456",loading:!1}),s=b("password"),m=()=>{s.value===""?s.value="password":s.value=""},p=()=>new Promise((l,a)=>{if(e.name===""){i.warning({message:"用户名不能为空",type:"warning"});return}if(e.password===""){i.warning({message:"密码不能为空",type:"warning"});return}l(!0)});return{loginLeftPng:N,systemTitle:k,systemSubTitle:V,form:e,passwordType:s,passwordTypeChange:m,submit:()=>{p().then(()=>{e.loading=!0;let l={username:e.name,password:e.password};B.post("/api/login",l).then(a=>{console.log(a),a.data.code==="000"?(i.success({message:"登录成功",type:"success",showClose:!0,duration:1e3}),localStorage.setItem("admintoken",a.data.data.token),localStorage.setItem("user",JSON.stringify(a.data.data.user)),location.reload()):(i.error({message:a.data.message,type:"error",showClose:!0,duration:1e3}),e.loading=!1)})})}}}}),$={class:"container"},E={class:"box"},I={class:"login-content-left"},L=["src"],R={class:"login-content-left-mask"},U={class:"box-inner"};function q(e,s,m,p,g,l){const a=d("el-input"),f=d("el-button"),y=d("el-form");return S(),v("div",$,[o("div",E,[o("div",I,[o("img",{src:e.loginLeftPng},null,8,L),o("div",R,[o("div",null,u(e.systemTitle),1),o("div",null,u(e.systemSubTitle),1)])]),o("div",U,[s[6]||(s[6]=o("h1",null,"欢迎登录",-1)),r(y,{class:"form"},{default:t(()=>[r(a,{size:"large",modelValue:e.form.name,"onUpdate:modelValue":s[0]||(s[0]=n=>e.form.name=n),placeholder:"用户名",type:"text",maxlength:"50"},{prepend:t(()=>s[3]||(s[3]=[o("i",{class:"sfont system-xingmingyonghumingnicheng"},null,-1)])),_:1},8,["modelValue"]),r(a,{size:"large",ref:"password",modelValue:e.form.password,"onUpdate:modelValue":s[2]||(s[2]=n=>e.form.password=n),type:e.passwordType,placeholder:"密码",name:"password",maxlength:"50"},{prepend:t(()=>s[4]||(s[4]=[o("i",{class:"sfont system-mima"},null,-1)])),append:t(()=>[o("i",{class:j(["sfont password-icon",e.passwordType?"system-yanjing-guan":"system-yanjing"]),onClick:s[1]||(s[1]=(...n)=>e.passwordTypeChange&&e.passwordTypeChange(...n))},null,2)]),_:1},8,["modelValue","type"]),r(f,{type:"primary",loading:e.form.loading,onClick:e.submit,style:{width:"100%"},size:"medium"},{default:t(()=>s[5]||(s[5]=[z(" 登录 ")])),_:1},8,["loading","onClick"])]),_:1})])])])}const O=c(P,[["render",q],["__scopeId","data-v-a43499d1"]]);export{O as default};
